"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.printEnvironmentToMarkdown = printEnvironmentToMarkdown;
const environment_1 = require("../../dataflow/environments/environment");
const dfg_1 = require("../../util/mermaid/dfg");
function printEnvironmentToMarkdown(env) {
    if (env === undefined) {
        return '?? (error)';
    }
    else if (env.id === environment_1.BuiltInEnvironment.id) {
        return `_Built-in Environment (${env.memory.size} entries)_`;
    }
    const lines = ['| Name | Definitions |', '|------|-------------|'];
    for (const [name, defs] of env.memory.entries()) {
        const printName = `\`${name}\``;
        lines.push(`| ${printName} | {${defs.map(dfg_1.printIdentifier).join(', ')}} |`);
    }
    return lines.join('\n') + '\n\n<details><summary style="color:gray"> Parent Environment</summary>\n\n' + printEnvironmentToMarkdown(env.parent) + '\n\n</details>';
}
//# sourceMappingURL=doc-env.js.map