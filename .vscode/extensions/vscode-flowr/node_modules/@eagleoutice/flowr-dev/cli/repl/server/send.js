"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUnnamedSocketName = getUnnamedSocketName;
exports.sendMessage = sendMessage;
const server_1 = require("./server");
const json_1 = require("../../../util/json");
function getUnnamedSocketName(c) {
    return `${c.remoteAddress ?? '?'}@${c.remotePort ?? '?'}`;
}
function sendMessage(c, message) {
    const msg = JSON.stringify(message, json_1.jsonReplacer);
    if (server_1.serverLog.settings.minLevel >= 2 /* LogLevel.Debug */) {
        server_1.serverLog.debug(`[${getUnnamedSocketName(c)}] sending message: ${msg}`);
    }
    c.write(`${msg}\n`);
}
//# sourceMappingURL=send.js.map