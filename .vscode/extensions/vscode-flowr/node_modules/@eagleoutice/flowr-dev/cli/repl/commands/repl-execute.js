"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.executeCommand = void 0;
exports.executeRShellCommand = executeRShellCommand;
const ansi_1 = require("../../../util/ansi");
async function executeRShellCommand(output, shell, statement) {
    try {
        const result = await shell.sendCommandWithOutput(statement, {
            from: 'both',
            automaticallyTrimOutput: true
        });
        output.stdout(`${(0, ansi_1.italic)(result.join('\n'), output.formatter)}\n`);
    }
    catch (e) {
        output.stderr(`Error while executing '${statement}': ${e.message}`);
    }
}
exports.executeCommand = {
    description: 'Execute the given code as R code (essentially similar to using now command)',
    usageExample: ':execute',
    aliases: ['e', 'r'],
    script: false,
    fn: async (output, shell, remainingLine) => {
        await executeRShellCommand(output, shell, remainingLine);
    }
};
//# sourceMappingURL=repl-execute.js.map