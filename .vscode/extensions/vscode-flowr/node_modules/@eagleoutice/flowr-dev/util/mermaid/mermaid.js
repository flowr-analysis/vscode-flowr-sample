"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.escapeMarkdown = escapeMarkdown;
exports.mermaidCodeToUrl = mermaidCodeToUrl;
const replacements = {
    // keep newlines
    '\\n': '\n',
    '`': '#96;',
    '[': '#91;',
    ']': '#93;',
    '<': '#60;',
    '>': '#62;',
    '*': '#42;',
    '+': '#43;',
    '-': '#45;',
    '"': '#34;',
    '\\': '#92;',
    '_': '#95;',
    '{': '#123;',
    '}': '#125;',
    '&': '#38;'
};
function escapeMarkdown(text) {
    for (const [key, value] of Object.entries(replacements)) {
        text = text.replaceAll(key, value);
    }
    return text;
}
/**
 * Converts mermaid code (potentially produced by {@link graphToMermaid}) to an url that presents the graph in the mermaid editor.
 *
 * @param code - code to convert
 */
function mermaidCodeToUrl(code, edit = false) {
    const obj = {
        code,
        mermaid: {
            autoSync: true
        }
    };
    return `https://mermaid.live/${edit ? 'edit' : 'view'}#base64:${Buffer.from(JSON.stringify(obj)).toString('base64')}`;
}
//# sourceMappingURL=mermaid.js.map